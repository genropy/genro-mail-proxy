version: "3.8"

services:
  # Fake SMTP server for tenant1 (MailHog)
  mailhog-tenant1:
    image: mailhog/mailhog:latest
    ports:
      - "1025:1025"   # SMTP
      - "8025:8025"   # Web UI / API
    networks:
      - testnet

  # Fake SMTP server for tenant2 (MailHog)
  mailhog-tenant2:
    image: mailhog/mailhog:latest
    ports:
      - "1026:1025"   # SMTP
      - "8026:8025"   # Web UI / API
    networks:
      - testnet

  # HTTP echo server for tenant1 client endpoint
  client-tenant1:
    image: mendhak/http-https-echo:latest
    ports:
      - "8081:8080"
    environment:
      - HTTP_PORT=8080
    networks:
      - testnet

  # HTTP echo server for tenant2 client endpoint
  client-tenant2:
    image: mendhak/http-https-echo:latest
    ports:
      - "8082:8080"
    environment:
      - HTTP_PORT=8080
    networks:
      - testnet

networks:
  testnet:
    driver: bridge
