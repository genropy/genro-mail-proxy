[storage]
# SQLite database path used by the service.
# During local development /tmp is fine, but in production (especially under Docker)
# mount a persistent volume and update this value so queues and logs survive restarts.
db_path = /tmp/mail_service.db
[server]
# host = 0.0.0.0
# port = 8000
# api_token = your-api-token
[client]
# Endpoint invoked by the dispatcher to deliver batched reports
# Updated to use example_client port (9090)
client_sync_url = http://127.0.0.1:8081/email/mailproxy/mp_endpoint/proxy_sync
client_sync_user = syncuser
client_sync_password = syncpass

# client_sync_token = mytoken  # use this instead of user/password when available

[scheduler]
# Global on/off switch for the mail dispatcher
active = true

[delivery]
# Polling interval (in seconds) for the SMTP send loop.
send_interval_seconds = 0.5
# Enable test mode to run dispatcher/reporting loops only when triggered by "run now".
test_mode = false
# Default priority for queued messages (0=immediate, 1=high, 2=medium, 3=low).
default_priority = 2
# Retention window (in seconds) for messages already reported to the client.
delivery_report_retention_seconds = 604800
# Maximum number of messages to send per SMTP account per dispatch cycle.
# This prevents overwhelming SMTP servers and helps avoid rate limiting/blacklisting.
# Each account can override this with its own batch_size setting.
batch_size_per_account = 50

[logging]
# When true, each SMTP attempt and client sync exchange is logged to the console.
delivery_activity = true
